---
import { Image } from "@astrojs/image/components";
import type { getMovies } from "../server/movies";
import VoteButton from "./vote-button";

const { movie, movies } = Astro.props as {
  movies: Awaited<ReturnType<typeof getMovies>>;
  movie: Awaited<ReturnType<typeof getMovies>>["movieOne"];
};
---

<article
  class='flex items-center bg-white shadow-lg h-full w-full sm:max-w-sm sm:flex-col'
>
  <Image
    src={movie!.image}
    alt={movie!.title}
    format='webp'
    width={500}
    height={800}
    class='object-fit w-36 sm:w-96'
  />
  <div class='p-6 flex gap-4 flex-col items-center'>
    <h2 class='text-xl text-center max-w-lg'>{movie?.title}</h2>
    <VoteButton client:visible movies={movies} movie={movie} />
  </div>
</article>
